<!DOCTYPE html>
<html>
<head>
    <title>Jasmine Spec Runner</title>

    <!-- Jasmine Library -->
    <link rel="stylesheet" href="lib/jasmine-1.2.0/jasmine.css">
    <script src="lib/jasmine-1.2.0/jasmine.js"></script>
    <script src="lib/jasmine-1.2.0/jasmine-html.js"></script>

    <!-- Libraries used by the extension -->
    <script src="../../extension/lib/jquery.js"></script>
    <script src="../../extension/lib/accounting.js"></script>
    <script src="../../extension/lib/money.js"></script>
    <script src="../../extension/lib/moment.js"></script>

    <!-- Shared code used by the extension -->
    <script src="../../extension/shared.js"></script>

    <!-- Extension code, with helpers to generate mock data for testing with -->
    <script src="spec/beforehelper.js"></script>
    <script src="../../extension/localisr.js"></script>
    <script src="spec/afterhelper.js"></script>

    <!-- Unit test specs -->
    <script src="spec/miscspec.js"></script>
    <script src="spec/timespec.js"></script>
    <script src="spec/pricespec.js"></script>

    <script>
        (function(){
            var jasmineEnv = jasmine.getEnv();
            jasmineEnv.updateInterval = 1000;

            var htmlReporter = new jasmine.HtmlReporter();

            jasmineEnv.addReporter(htmlReporter);

            jasmineEnv.specFilter = function(spec){
                return htmlReporter.specFilter(spec);
            };

            var currentWindowOnload = window.onload;

            window.onload = function(){
                if(currentWindowOnload){
                    currentWindowOnload();
                }
                execJasmine();
            };

            function execJasmine(){
                jasmineEnv.execute();
            }
        }());
    </script>
</head>

<body>
    <p>Hello &pound;100</p>
</body>

</html>
